<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>嘿嘿</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="嘿嘿">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="嘿嘿">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="嘿嘿">
  
    <link rel="alternate" href="/atom.xml" title="嘿嘿" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">嘿嘿</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">我没有生来天赋过人，面对人山人海，只剩下一丝诚恳。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-DOM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/24/DOM/" class="article-date">
  <time datetime="2018-05-24T06:57:42.448Z" itemprop="datePublished">2018-05-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><p>标签（空格分隔）：  DOM</p>
<hr>
<p><strong>（内容混杂了原始DOM和JavaScript中DOM的内容，看起来很乱，烦~~~）</strong><br>DOM是针对HTML和XML的API，描述了一个层次化的结构树，具有跨平台、中立等特性。1998年10月DOM1级规范成为W3C的标准规范，为基本的文档结构和查询提供了接口。<br>在DOM接口规范中，有四个基本的接口：Document，Node，NodeList以及NamedNodeMap。在这四个基本接口 中，Document接口是对文档进行操作的入口，它是从Node接口继承过来的。Node接口是其他大多数接口的父类，象 Documet，Element，Attribute，Text，Comment等接口都是从Node接口继承过来的。NodeList接口是一个节点的 集合，它包含了某个节点中的所有子节点。NamedNodeMap接口也是一个节点的集合，通过该接口，可以建立节点名和节点之间的一一映射关系，从而利 用节点名可以直接访问特定的节点。</p>
<p>####DOM0级<br>DOM0级指的是在DOM1级之前IE4和网景浏览器竞争时各自制定的一些规范，历史上没有DOM0级规范这种叫法。<br>DOM0级的事件处理：<br>`</p>
<p><button onclick="handleClick(e)"><br><code>在上述的例子中，onclick的处理函数并不会像普通函数那样要调用才会执行，而当该元素被点击时，解析引擎会查找onClick属性是否有值，如果有，就会执行</code>handleClick.call(‘button’,event)`。<br>DOM0级的事件处理的缺点就是一个事件只能指定一个处理函数。</button></p>
<p>####DOM1级<br>DOM1级规范定义了如下内容：</p>
<p>######Node类型<br>DOM1级定义了Node接口，在JS中作为Node类型实现，DOM定义的节点类型都继承自Node类型。节点类型由定义的12种常量来表示：<br>|节点类型常量|数值|说明|<br>| - | :-: | -: |<br>|ELEMENT_NODE|1|元素节点|<br>|ATTRIBUTE_NODE|2|属性节点|<br>|TEXT_NODE|3|文本节点|<br>|CDATA_SECTION_NODE|4|CDATA节点|<br>|ENTITY_REFERENCE_NODE|5|实体引用节点|<br>|ENITITY_NODE|6|实体节点|<br>|PROCESSING_INSTRUCTION_NODE|7|处理指令节点|<br>|COMMENT_NODE|8|注释节点|<br>|DOCUMENT_NODE|9|文档节点|<br>|DOCUMENT_TYPE_NODE|10|文档类型节点|<br>|DOCUMENT_FREGMENT_NODE|11|文档片段节点|<br>|NOTATION_NODE|12|符号节点|</p>
<p>######节点<br>DOM的最基本单位为节点。DOM可以将任何HTML或XML文档解析成由无数节点组成的结构树。<br>常用的节点类型共有7种：(老版IE没有暴露Node类型)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. Document：整个结构树的顶层节点</span><br><span class="line">2.  DocumentType: doctye标签</span><br><span class="line">3. Element: 文档的标签或元素(a、button)</span><br><span class="line">4.  Attribute: 元素的属性(href=&quot;&quot;)</span><br><span class="line">5.  Text: 标签元素之间或包裹的文字</span><br><span class="line">6.  Comment: 注释</span><br><span class="line">7.  DocumentFragment: 文档片段</span><br></pre></td></tr></table></figure></p>
<p>节点的属性：<br>|属性名称|数据类型|说明|<br>|-|:-:|-:|<br>|nodeName|DOMString|节点名称[^脚注]|<br>|nodeValue|DOMString|节点值|<br>|nodeType|int|节点类型|<br>|parentNode|Node|当前节点父节点|<br>|childNodes|NodeList|当前节点所有子节点|<br>|firstChild|Node|当前节点的第一个子节点|<br>|lastChild|Node|当前节点的最后一个子节点|<br>|previousSibling|Node|紧邻的前一个兄弟节点|<br>|nextSibling|Node|紧邻的后一个兄弟节点|<br>|attributes|NamedNodeMap|当前节点的所有属性|<br>|ownerDocument|Document|当前节点对应的Document|<br>|namespaceURI|DOMString|命名空间URI|<br>|prefix|DOMString|命名空间的前缀|<br>|localName|DOMString|限定名的本地部分|</p>
<p>[^脚注1]：不同节点的nodeName属性值如下。<br>文档节点（document）：#document<br>元素节点（element）：大写的标签名<br>属性节点（attr）：属性的名称<br>文本节点（text）：#text<br>文档片断节点（DocumentFragment）：#document-fragment<br>文档类型节点（DocumentType）：文档的类型<br>注释节点（Comment）：#comment</p>
<p>######Node接口常用方法<br>|方法名|返回类型|说明|<br>|-|:-:|-:|<br>|appendChild|Node|末尾添加子节点|<br>|cloneNode|Node|克隆子节点[^备注1]|<br>|hasAttributes|Boolean|是否有某个属性|<br>|hasChildNodes|Boolean|是否有子节点|<br>|insertBefore|Node|在指定点插入节点|<br>|removeChild|Node|删除子节点|<br>|replaceChild|Node|替换节点|<br>|normalize|Void|见[^备注2]|</p>
<p>[^备注1]：cloneNode方法接受一个布尔值参数，表示是否执行深复制(是否包括子节点)，该方法不会复制节点的js属性（事件等）。<br>[^备注2]：</p>
<p>在浏览器中，document对象是HTMLDocument(继承自Document类型)的一个实例，表示整个HTML页面，而且document是window对象的属性，因此可以当作全局对象直接访问。<br>document对象有很多属性和方法：<br>1.访问子节点<br>document.documentElement始终指向文档的<code>&lt;html&gt;</code>元素<br>document.body<br>document.doctype<br>2.文档信息<br>document.url<br>document.domain<br>document.referrer:链接到当前页面的那个页面url<br>3.查找元素<br>document.getElementById<br>……<br>document.getElementsByName是HTMLDocument类型才有的<br>4.特殊集合<br>document.images<br>document.links<br>document.anchors<br>document.forms<br>5.DOM一致性检测<br>通过document.implementation。hasFeature(‘功能名称’,’版本号’)检测浏览器实现了DOM哪些规范<br>下表为可以检测的功能和版本号：<br>|功能|版本号|说明|<br>|-|:-:|:-|<br>|Core|1.0、2.0、3.0|基本DOM，描述表现文档的结构树|<br>|XML|1.0、2.0、3.0|Core的XML扩展|<br>|HTML|1.0、2.0|XML的HTML扩展|<br>|Views|2.0|基于某些样式完成文档的格式化|<br>|StyleSheets|2.0|将样式表关联到文档|<br>|CSS|2.0|对层叠样式表1级的支持|<br>|CSS2.0|2.0|对层叠样式表2级的支持|<br>|Events|2.0、3.0|常规的DOM事件|<br>|UIEvents|2.0、3.0|用户界面事件|<br>|MouseEvents|2.0、3.0|鼠标事件|<br>|MutationEvents|2.0、3.0|DOM树变化引发的事件|<br>|HTMLEvents|2.0|HTML4.01事件|<br>|Range|2.0|用于操作DOM树中某个范围的对象和方法|<br>|Traversal|2.0|遍历DOM树的方法|<br>|LS|3.0|文件和DOM树之间的同步加载和保存|<br>|LS-Async|3.0|文件和DOM树之间的余部加载和保存|<br>|Validation|3.0|在确保有效的前提下修改DOM树的方法|</p>
<p>######Element类型的attributes属性<br>Element类型是唯一一个使用attributes属性的节点类型，attributes属性中包含一个动态的NamedNodeMap对象，NamedNodeMap对象有下列方法：<br>1.getNamedItem(name)<br>2.setNamedItem(name)<br>3.removeNamedItem(name)<br>4.item(pos)</p>
<p>######Text类型<br>可以通过nodeValue或data访问Text节点的值，DOM提供以下方法操作Text节点的文本：<br>appendData(text) 添加到末尾<br>deletaData(offset,count):从offset位置删除count个字符<br>insertData(offset,text)<br>replaceData(offset,count,text)<br>splitText(offset):从offset位置拆分文本为2部分<br>subStringData(offset,count)提取2个位置中间的文本<br>创建文本：document.createTextNode(text)<br>normalize()方法用于将某个节点下的2个子同胞文本节点合并为一个</p>
<p>操作DOM开销大的原因，一部分是因为NodeList，NamedNodeMap都是动态的，每次操作都会引起新的文档查询。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/24/DOM/" data-id="cjhk725j200017cuj443mx89j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-odd" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/04/19/odd/" class="article-date">
  <time datetime="2018-04-19T07:11:29.000Z" itemprop="datePublished">2018-04-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/19/odd/">js判断数字是否为奇数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>npm上有一个下载量很大的包叫<a href="https://github.com/jonschlinkert/is-odd/blob/master/index.js" target="_blank" rel="noopener">is-odd</a>,其核心代码就一行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return !!(~~number &amp; 1)</span><br></pre></td></tr></table></figure></p>
<p>要判断一个数是否为奇数，以我们常规的思路无非就是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return number%2===1</span><br></pre></td></tr></table></figure></p>
<p>~操作符在js中的意思是 <code>按位取反</code>,结果是被操作数的负值减1;&amp;操作符的意思是<code>按位与</code>,只有2个数的二进制对应位都为1时结果为1，不同则为0。<br>如：</p>
<pre><code>    101 (5)
&amp;     1（1）
    ————
    001 (1)
</code></pre><p>只要是奇数，&amp;1的结果都为1,布尔值当然为true。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/04/19/odd/" data-id="cjhk725il00007cujn17yzk20" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/05/24/DOM/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/04/19/odd/">js判断数字是否为奇数</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Lei Zeng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>